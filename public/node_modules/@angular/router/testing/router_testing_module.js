
import{Location,LocationStrategy}from'@angular/common';import{MockLocationStrategy,SpyLocation}from'@angular/common/testing';import{Compiler,Injectable,Injector,NgModule,NgModuleFactoryLoader}from'@angular/core';import{Router,RouterModule,RouterOutletMap,UrlSerializer,provideRoutes}from'@angular/router';import{ROUTER_PROVIDERS,ROUTES,flatten}from'./private_import_router';export var SpyNgModuleFactoryLoader=(function(){function SpyNgModuleFactoryLoader(compiler){this.compiler=compiler;this.stubbedModules={};}
SpyNgModuleFactoryLoader.prototype.load=function(path){if(this.stubbedModules[path]){return this.compiler.compileModuleAsync(this.stubbedModules[path]);}
else{return Promise.reject(new Error("Cannot find module "+path));}};SpyNgModuleFactoryLoader.decorators=[{type:Injectable},];SpyNgModuleFactoryLoader.ctorParameters=[{type:Compiler,},];return SpyNgModuleFactoryLoader;}());export function setupTestingRouter(urlSerializer,outletMap,location,loader,compiler,injector,routes){return new Router(null,urlSerializer,outletMap,location,injector,loader,compiler,flatten(routes));}
export var RouterTestingModule=(function(){function RouterTestingModule(){}
RouterTestingModule.withRoutes=function(routes){return{ngModule:RouterTestingModule,providers:[provideRoutes(routes)]};};RouterTestingModule.decorators=[{type:NgModule,args:[{exports:[RouterModule],providers:[ROUTER_PROVIDERS,{provide:Location,useClass:SpyLocation},{provide:LocationStrategy,useClass:MockLocationStrategy},{provide:NgModuleFactoryLoader,useClass:SpyNgModuleFactoryLoader},{provide:Router,useFactory:setupTestingRouter,deps:[UrlSerializer,RouterOutletMap,Location,NgModuleFactoryLoader,Compiler,Injector,ROUTES]},provideRoutes([])]},]},];RouterTestingModule.ctorParameters=[];return RouterTestingModule;}());