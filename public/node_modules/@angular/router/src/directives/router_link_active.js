
import{ContentChildren,Directive,ElementRef,Input,Renderer}from'@angular/core';import{NavigationEnd,Router}from'../router';import{RouterLink,RouterLinkWithHref}from'./router_link';export var RouterLinkActive=(function(){function RouterLinkActive(router,element,renderer){var _this=this;this.router=router;this.element=element;this.renderer=renderer;this.classes=[];this.routerLinkActiveOptions={exact:false};this.subscription=router.events.subscribe(function(s){if(s instanceof NavigationEnd){_this.update();}});}
RouterLinkActive.prototype.ngAfterContentInit=function(){var _this=this;this.links.changes.subscribe(function(s){return _this.update();});this.linksWithHrefs.changes.subscribe(function(s){return _this.update();});this.update();};Object.defineProperty(RouterLinkActive.prototype,"routerLinkActive",{set:function(data){if(Array.isArray(data)){this.classes=data;}
else{this.classes=data.split(' ');}},enumerable:true,configurable:true});RouterLinkActive.prototype.ngOnChanges=function(changes){this.update();};RouterLinkActive.prototype.ngOnDestroy=function(){this.subscription.unsubscribe();};RouterLinkActive.prototype.update=function(){var _this=this;if(!this.links||!this.linksWithHrefs||!this.router.navigated)
return;var isActiveLinks=this.reduceList(this.links);var isActiveLinksWithHrefs=this.reduceList(this.linksWithHrefs);this.classes.forEach(function(c){return _this.renderer.setElementClass(_this.element.nativeElement,c,isActiveLinks||isActiveLinksWithHrefs);});};RouterLinkActive.prototype.reduceList=function(q){var _this=this;return q.reduce(function(res,link){return res||_this.router.isActive(link.urlTree,_this.routerLinkActiveOptions.exact);},false);};RouterLinkActive.decorators=[{type:Directive,args:[{selector:'[routerLinkActive]'},]},];RouterLinkActive.ctorParameters=[{type:Router,},{type:ElementRef,},{type:Renderer,},];RouterLinkActive.propDecorators={'links':[{type:ContentChildren,args:[RouterLink,{descendants:true},]},],'linksWithHrefs':[{type:ContentChildren,args:[RouterLinkWithHref,{descendants:true},]},],'routerLinkActiveOptions':[{type:Input},],'routerLinkActive':[{type:Input},],};return RouterLinkActive;}());