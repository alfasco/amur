
import{StringWrapper,isBlank,isPresent}from'./facade/lang';export var StyleWithImports=(function(){function StyleWithImports(style,styleUrls){this.style=style;this.styleUrls=styleUrls;}
return StyleWithImports;}());export function isStyleUrlResolvable(url){if(isBlank(url)||url.length===0||url[0]=='/')
return false;var schemeMatch=url.match(_urlWithSchemaRe);return schemeMatch===null||schemeMatch[1]=='package'||schemeMatch[1]=='asset';}
export function extractStyleUrls(resolver,baseUrl,cssText){var foundUrls=[];var modifiedCssText=StringWrapper.replaceAllMapped(cssText,_cssImportRe,function(m){var url=isPresent(m[1])?m[1]:m[2];if(!isStyleUrlResolvable(url)){return m[0];}
foundUrls.push(resolver.resolve(baseUrl,url));return'';});return new StyleWithImports(modifiedCssText,foundUrls);}
var _cssImportRe=/@import\s+(?:url\()?\s*(?:(?:['"]([^'"]*))|([^;\)\s]*))[^;]*;?/g;var _urlWithSchemaRe=/^([^:/?#]+):/;