
import{OptionalMetadata,SkipSelfMetadata}from'../../di';import{ListWrapper}from'../../facade/collection';import{isBlank,isPresent}from'../../facade/lang';export var KeyValueDiffers=(function(){function KeyValueDiffers(factories){this.factories=factories;}
KeyValueDiffers.create=function(factories,parent){if(isPresent(parent)){var copied=ListWrapper.clone(parent.factories);factories=factories.concat(copied);return new KeyValueDiffers(factories);}
else{return new KeyValueDiffers(factories);}};KeyValueDiffers.extend=function(factories){return{provide:KeyValueDiffers,useFactory:function(parent){if(isBlank(parent)){throw new Error('Cannot extend KeyValueDiffers without a parent injector');}
return KeyValueDiffers.create(factories,parent);},deps:[[KeyValueDiffers,new SkipSelfMetadata(),new OptionalMetadata()]]};};KeyValueDiffers.prototype.find=function(kv){var factory=this.factories.find(function(f){return f.supports(kv);});if(isPresent(factory)){return factory;}
else{throw new Error("Cannot find a differ supporting object '"+kv+"'");}};return KeyValueDiffers;}());