
import{isPromise}from'../src/facade/lang';import{Inject,Injectable,OpaqueToken,Optional}from'./di';export var APP_INITIALIZER=new OpaqueToken('Application Initializer');export var ApplicationInitStatus=(function(){function ApplicationInitStatus(appInits){var _this=this;this._done=false;var asyncInitPromises=[];if(appInits){for(var i=0;i<appInits.length;i++){var initResult=appInits[i]();if(isPromise(initResult)){asyncInitPromises.push(initResult);}}}
this._donePromise=Promise.all(asyncInitPromises).then(function(){_this._done=true;});if(asyncInitPromises.length===0){this._done=true;}}
Object.defineProperty(ApplicationInitStatus.prototype,"done",{get:function(){return this._done;},enumerable:true,configurable:true});Object.defineProperty(ApplicationInitStatus.prototype,"donePromise",{get:function(){return this._donePromise;},enumerable:true,configurable:true});ApplicationInitStatus.decorators=[{type:Injectable},];ApplicationInitStatus.ctorParameters=[{type:Array,decorators:[{type:Inject,args:[APP_INITIALIZER,]},{type:Optional},]},];return ApplicationInitStatus;}());