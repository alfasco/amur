
import{Attribute,Directive,Host,Input,TemplateRef,ViewContainerRef}from'@angular/core';import{isPresent}from'../facade/lang';import{NgLocalization,getPluralCategory}from'../localization';import{SwitchView}from'./ng_switch';export var NgPlural=(function(){function NgPlural(_localization){this._localization=_localization;this._caseViews={};}
Object.defineProperty(NgPlural.prototype,"ngPlural",{set:function(value){this._switchValue=value;this._updateView();},enumerable:true,configurable:true});NgPlural.prototype.addCase=function(value,switchView){this._caseViews[value]=switchView;};NgPlural.prototype._updateView=function(){this._clearViews();var key=getPluralCategory(this._switchValue,Object.keys(this._caseViews),this._localization);this._activateView(this._caseViews[key]);};NgPlural.prototype._clearViews=function(){if(isPresent(this._activeView))
this._activeView.destroy();};NgPlural.prototype._activateView=function(view){if(!isPresent(view))
return;this._activeView=view;this._activeView.create();};NgPlural.decorators=[{type:Directive,args:[{selector:'[ngPlural]'},]},];NgPlural.ctorParameters=[{type:NgLocalization,},];NgPlural.propDecorators={'ngPlural':[{type:Input},],};return NgPlural;}());export var NgPluralCase=(function(){function NgPluralCase(value,template,viewContainer,ngPlural){this.value=value;ngPlural.addCase(value,new SwitchView(viewContainer,template));}
NgPluralCase.decorators=[{type:Directive,args:[{selector:'[ngPluralCase]'},]},];NgPluralCase.ctorParameters=[{type:undefined,decorators:[{type:Attribute,args:['ngPluralCase',]},]},{type:TemplateRef,},{type:ViewContainerRef,},{type:NgPlural,decorators:[{type:Host},]},];return NgPluralCase;}());