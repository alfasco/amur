
import{Inject,LOCALE_ID,Pipe}from'@angular/core';import{StringMapWrapper}from'../facade/collection';import{DateFormatter}from'../facade/intl';import{DateWrapper,NumberWrapper,isBlank,isDate,isString}from'../facade/lang';import{InvalidPipeArgumentError}from'./invalid_pipe_argument_error';export var DatePipe=(function(){function DatePipe(_locale){this._locale=_locale;}
DatePipe.prototype.transform=function(value,pattern){if(pattern===void 0){pattern='mediumDate';}
if(isBlank(value))
return null;if(!this.supports(value)){throw new InvalidPipeArgumentError(DatePipe,value);}
if(NumberWrapper.isNumeric(value)){value=DateWrapper.fromMillis(parseFloat(value));}
else if(isString(value)){value=DateWrapper.fromISOString(value);}
if(StringMapWrapper.contains(DatePipe._ALIASES,pattern)){pattern=StringMapWrapper.get(DatePipe._ALIASES,pattern);}
return DateFormatter.format(value,this._locale,pattern);};DatePipe.prototype.supports=function(obj){if(isDate(obj)||NumberWrapper.isNumeric(obj)){return true;}
if(isString(obj)&&isDate(DateWrapper.fromISOString(obj))){return true;}
return false;};DatePipe._ALIASES={'medium':'yMMMdjms','short':'yMdjm','fullDate':'yMMMMEEEEd','longDate':'yMMMMd','mediumDate':'yMMMd','shortDate':'yMd','mediumTime':'jms','shortTime':'jm'};DatePipe.decorators=[{type:Pipe,args:[{name:'date',pure:true},]},];DatePipe.ctorParameters=[{type:undefined,decorators:[{type:Inject,args:[LOCALE_ID,]},]},];return DatePipe;}());