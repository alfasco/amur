
var __extends=(this&&this.__extends)||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];function __(){this.constructor=d;}
d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};import{ResourceLoader}from'@angular/compiler';import{Injectable}from'@angular/core';import{isPresent}from'../facade/lang';export var ResourceLoaderImpl=(function(_super){__extends(ResourceLoaderImpl,_super);function ResourceLoaderImpl(){_super.apply(this,arguments);}
ResourceLoaderImpl.prototype.get=function(url){var resolve;var reject;var promise=new Promise(function(res,rej){resolve=res;reject=rej;});var xhr=new XMLHttpRequest();xhr.open('GET',url,true);xhr.responseType='text';xhr.onload=function(){var response=isPresent(xhr.response)?xhr.response:xhr.responseText;var status=xhr.status===1223?204:xhr.status;if(status===0){status=response?200:0;}
if(200<=status&&status<=300){resolve(response);}
else{reject("Failed to load "+url);}};xhr.onerror=function(){reject("Failed to load "+url);};xhr.send();return promise;};ResourceLoaderImpl.decorators=[{type:Injectable},];ResourceLoaderImpl.ctorParameters=[];return ResourceLoaderImpl;}(ResourceLoader));