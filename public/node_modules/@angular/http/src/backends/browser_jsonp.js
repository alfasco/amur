
import{Injectable}from'@angular/core';import{global}from'../facade/lang';var _nextRequestId=0;export var JSONP_HOME='__ng_jsonp__';var _jsonpConnections=null;function _getJsonpConnections(){if(_jsonpConnections===null){_jsonpConnections=global[JSONP_HOME]={};}
return _jsonpConnections;}
export var BrowserJsonp=(function(){function BrowserJsonp(){}
BrowserJsonp.prototype.build=function(url){var node=document.createElement('script');node.src=url;return node;};BrowserJsonp.prototype.nextRequestID=function(){return"__req"+_nextRequestId++;};BrowserJsonp.prototype.requestCallback=function(id){return JSONP_HOME+"."+id+".finished";};BrowserJsonp.prototype.exposeConnection=function(id,connection){var connections=_getJsonpConnections();connections[id]=connection;};BrowserJsonp.prototype.removeConnection=function(id){var connections=_getJsonpConnections();connections[id]=null;};BrowserJsonp.prototype.send=function(node){document.body.appendChild((node));};BrowserJsonp.prototype.cleanup=function(node){if(node.parentNode){node.parentNode.removeChild((node));}};BrowserJsonp.decorators=[{type:Injectable},];BrowserJsonp.ctorParameters=[];return BrowserJsonp;}());