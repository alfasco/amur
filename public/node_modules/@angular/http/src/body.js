
import{Json,isString}from'../src/facade/lang';import{isJsObject,stringToArrayBuffer}from'./http_utils';import{URLSearchParams}from'./url_search_params';export var Body=(function(){function Body(){}
Body.prototype.json=function(){if(isString(this._body)){return Json.parse(this._body);}
if(this._body instanceof ArrayBuffer){return Json.parse(this.text());}
return this._body;};Body.prototype.text=function(){if(this._body instanceof URLSearchParams){return this._body.toString();}
if(this._body instanceof ArrayBuffer){return String.fromCharCode.apply(null,new Uint16Array(this._body));}
if(this._body===null){return'';}
if(isJsObject(this._body)){return Json.stringify(this._body);}
return this._body.toString();};Body.prototype.arrayBuffer=function(){if(this._body instanceof ArrayBuffer){return this._body;}
return stringToArrayBuffer(this.text());};Body.prototype.blob=function(){if(this._body instanceof Blob){return this._body;}
if(this._body instanceof ArrayBuffer){return new Blob([this._body]);}
throw new Error('The request body isn\'t either a blob or an array buffer');};return Body;}());